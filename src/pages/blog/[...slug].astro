---
import { getCollection } from "astro:content"

// Redirect /blog/[slug] to /articles/[slug] for legacy support
export async function getStaticPaths() {
	const articles = await getCollection("articles")
	return articles.map((article) => ({
		params: { slug: article.slug },
	}))
}

const { slug } = Astro.params
return Astro.redirect(`/articles/${slug}`, 301)
---
